<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title>数字格式化</title>
		<link href="css/mui.min.css" rel="stylesheet" />
		<link href="css/reg.css" rel="stylesheet" />
		<link href="css/Reset_start.css" rel="stylesheet"/>    
		<link rel="stylesheet" type="text/css" href="css/iconfont.css"/>
		<script src="js/jquery-3.3.1.min.js"></script>
		<script src="js/vconsole.min.js"></script>
		<script src="js/common.js"></script>
	</head>
	<body>
		<input name="tt" type="text" id="tt" size="80" onkeyup="tran(this)" />
		<button onclick="money()">保存</button>
	</body>
	<script type="text/javascript"> 
	function tran(id)
	{
		var v, j, sj, rv = "";
		v = id.value.replace(/[^\d]/g,'').split(".");
		j = v[0].length % 3;
		sj = v[0].substr(j).toString();
		for (var i = 0; i < sj.length; i++)
		{
		   rv = (i % 3 == 0) ? rv + "," + sj.substr(i, 1): rv + sj.substr(i, 1);
		}
		var rvalue = (v[1] == undefined) ? v[0].substr(0, j) + rv: v[0].substr(0, j) + rv + "." + v[1];
		if (rvalue.charCodeAt(0) == 44)
		{
		   rvalue = rvalue.substr(1);
		}
		id.value = rvalue;
	}
	
	
	// 获取未格式化的金额
	function money() {
		var str = '', _money, _newMoney;
		_money = $("#tt").val();
		//console.log(_money)
		_newMoney = _money.split(',');
		console.log(_newMoney)
		for(var i = 0; i < _newMoney.length; i++) {
			str = str + _newMoney[i];
		}
		console.log(str)
	}
</script> 
</html>